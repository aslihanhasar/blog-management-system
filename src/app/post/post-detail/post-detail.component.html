<h1>Post Detail</h1>

<div *ngIf="post" class="card">
  <div class="card-body">
    <h5 class="card-title">{{ post.title | uppercase }}</h5>
    <p class="card-text">{{ post.content }}</p>
  </div>
  
  <ul class="list-group list-group-flush">
    <li class="list-group-item">Post ID: {{ post.postId }}</li>
    <li class="list-group-item">Author Name: {{ users[+post.userId - 1].username }}</li>
    <li class="list-group-item">User ID: {{ post.userId }}</li>
    <li class="list-group-item">Date: {{ post.creationDate }}</li>
    <li class="list-group-item">View Count: {{ post.viewCount }}</li>
    <li class="list-group-item">Is Published: {{ post.isPublished }}</li>
  </ul>
</div>

<button (click)="performEdit()" type="button">Edit</button>
<!--
<button (click)="performDelete()" type="button">Delete</button>-->


<form *ngIf="updateMode && post" >
    <label for="title">Title</label>
    <input type="text" [(ngModel)]="post.title" name= "title" >
    <label for="content">Content</label>
    <input type="content" [(ngModel)]="post.content" name= "content" >
    <label for="creationDate">Creation Date</label>
    <input type="date" [(ngModel)]="post.creationDate" name= "creationDate" >
    <label for="isPublished">Published State</label>
    <select [(ngModel)]="post.isPublished" name="isPublished">
        <option [value]="true"> Active </option>
        <option [value]="false">Passive</option>
    </select>
    <label for="user">User</label>
    <select [(ngModel)]="post.userId" name="user">
        <option *ngFor="let user of users" [value]="user.userId">{{user.username}}</option>
    </select>
    <div>
        <button (click)="performSave()" type="button">Save</button>
    </div>
</form>

<button [routerLink]="'/posts'">Go back</button>